{"ast":null,"code":"var _jsxFileName = \"/app/src/components/AccountModal.jsx\",\n  _s = $RefreshSig$();\n// AccountModal.jsx\nimport React, { useContext } from \"react\";\nimport { AccountContext } from \"../context/AccountContext\";\nimport { usePlans } from \"../context/PlanContext\";\nimport { useNotification } from \"../context/NotificationContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AccountModal = ({\n  isOpen,\n  onClose,\n  planId,\n  accountType,\n  onAccountLinked\n}) => {\n  _s();\n  const {\n    standardAccounts,\n    creditAccounts,\n    loans,\n    investmentAccounts,\n    loading,\n    error\n  } = useContext(AccountContext);\n  const {\n    linkAccountToPlan\n  } = usePlans();\n  const {\n    showError\n  } = useNotification();\n  if (!isOpen) return null;\n\n  // Get accounts based on type\n  const getAccounts = () => {\n    switch (accountType) {\n      case \"standard\":\n        return standardAccounts;\n      case \"credit\":\n        return creditAccounts;\n      case \"loan\":\n        return loans;\n      case \"investment\":\n        return investmentAccounts;\n      default:\n        return [];\n    }\n  };\n\n  // Format currency\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\"\n    }).format(amount);\n  };\n\n  // Get type label\n  const getTypeLabel = () => {\n    switch (accountType) {\n      case \"standard\":\n        return \"Account\";\n      case \"credit\":\n        return \"Credit Card\";\n      case \"loan\":\n        return \"Loan\";\n      case \"investment\":\n        return \"Investment Account\";\n      default:\n        return \"Account\";\n    }\n  };\n\n  // Link account to plan\n  const handleLinkAccount = async account => {\n    try {\n      await linkAccountToPlan(planId, account.id, accountType);\n      if (onAccountLinked) {\n        onAccountLinked();\n      }\n      onClose();\n    } catch (err) {\n      console.error(\"Error linking account:\", err);\n      showError(err.message || \"Failed to link account to plan\");\n    }\n  };\n  const accounts = getAccounts();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-6 max-w-lg w-full max-h-[80vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold\",\n          children: [\"Add \", getTypeLabel()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-4 text-center\",\n        children: \"Loading accounts...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-4 text-center text-red-600\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this) : accounts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-4 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-4\",\n          children: [\"No \", getTypeLabel().toLowerCase(), \"s available to add.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/dashboard/accounts\",\n            className: \"text-blue-600 hover:underline\",\n            children: \"Go to Accounts Dashboard to create one\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-3\",\n        children: accounts.map(account => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"border rounded-lg p-3 hover:bg-gray-50 cursor-pointer\",\n          onClick: () => handleLinkAccount(account),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold\",\n                children: account.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Balance: \", formatCurrency(account.balance)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-blue-600 hover:text-blue-800\",\n              onClick: e => {\n                e.stopPropagation();\n                handleLinkAccount(account);\n              },\n              children: \"Link\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this)\n        }, account.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 flex justify-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n_s(AccountModal, \"ikZ14Sn9ay2WBFNX0bjZrsOU8yw=\", false, function () {\n  return [usePlans, useNotification];\n});\n_c = AccountModal;\nexport default AccountModal;\nvar _c;\n$RefreshReg$(_c, \"AccountModal\");","map":{"version":3,"names":["React","useContext","AccountContext","usePlans","useNotification","jsxDEV","_jsxDEV","AccountModal","isOpen","onClose","planId","accountType","onAccountLinked","_s","standardAccounts","creditAccounts","loans","investmentAccounts","loading","error","linkAccountToPlan","showError","getAccounts","formatCurrency","amount","Intl","NumberFormat","style","currency","format","getTypeLabel","handleLinkAccount","account","id","err","console","message","accounts","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","toLowerCase","href","map","name","balance","e","stopPropagation","_c","$RefreshReg$"],"sources":["/app/src/components/AccountModal.jsx"],"sourcesContent":["// AccountModal.jsx\nimport React, { useContext } from \"react\";\nimport { AccountContext } from \"../context/AccountContext\";\nimport { usePlans } from \"../context/PlanContext\";\nimport { useNotification } from \"../context/NotificationContext\";\n\nconst AccountModal = ({\n  isOpen,\n  onClose,\n  planId,\n  accountType,\n  onAccountLinked,\n}) => {\n  const {\n    standardAccounts,\n    creditAccounts,\n    loans,\n    investmentAccounts,\n    loading,\n    error,\n  } = useContext(AccountContext);\n  const { linkAccountToPlan } = usePlans();\n  const { showError } = useNotification();\n\n  if (!isOpen) return null;\n\n  // Get accounts based on type\n  const getAccounts = () => {\n    switch (accountType) {\n      case \"standard\":\n        return standardAccounts;\n      case \"credit\":\n        return creditAccounts;\n      case \"loan\":\n        return loans;\n      case \"investment\":\n        return investmentAccounts;\n      default:\n        return [];\n    }\n  };\n\n  // Format currency\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n    }).format(amount);\n  };\n\n  // Get type label\n  const getTypeLabel = () => {\n    switch (accountType) {\n      case \"standard\":\n        return \"Account\";\n      case \"credit\":\n        return \"Credit Card\";\n      case \"loan\":\n        return \"Loan\";\n      case \"investment\":\n        return \"Investment Account\";\n      default:\n        return \"Account\";\n    }\n  };\n\n  // Link account to plan\n  const handleLinkAccount = async (account) => {\n    try {\n      await linkAccountToPlan(planId, account.id, accountType);\n      if (onAccountLinked) {\n        onAccountLinked();\n      }\n      onClose();\n    } catch (err) {\n      console.error(\"Error linking account:\", err);\n      showError(err.message || \"Failed to link account to plan\");\n    }\n  };\n\n  const accounts = getAccounts();\n\n  return (\n    <div className=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50\">\n      <div className=\"bg-white rounded-lg p-6 max-w-lg w-full max-h-[80vh] overflow-y-auto\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-xl font-bold\">Add {getTypeLabel()}</h3>\n          <button\n            onClick={onClose}\n            className=\"text-gray-500 hover:text-gray-700\"\n          >\n            âœ•\n          </button>\n        </div>\n\n        {loading ? (\n          <div className=\"py-4 text-center\">Loading accounts...</div>\n        ) : error ? (\n          <div className=\"py-4 text-center text-red-600\">{error}</div>\n        ) : accounts.length === 0 ? (\n          <div className=\"py-4 text-center\">\n            <p className=\"mb-4\">\n              No {getTypeLabel().toLowerCase()}s available to add.\n            </p>\n            <p>\n              <a\n                href=\"/dashboard/accounts\"\n                className=\"text-blue-600 hover:underline\"\n              >\n                Go to Accounts Dashboard to create one\n              </a>\n            </p>\n          </div>\n        ) : (\n          <ul className=\"space-y-3\">\n            {accounts.map((account) => (\n              <li\n                key={account.id}\n                className=\"border rounded-lg p-3 hover:bg-gray-50 cursor-pointer\"\n                onClick={() => handleLinkAccount(account)}\n              >\n                <div className=\"flex justify-between\">\n                  <div>\n                    <h4 className=\"font-semibold\">{account.name}</h4>\n                    <p className=\"text-sm text-gray-600\">\n                      Balance: {formatCurrency(account.balance)}\n                    </p>\n                  </div>\n                  <button\n                    className=\"text-blue-600 hover:text-blue-800\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleLinkAccount(account);\n                    }}\n                  >\n                    Link\n                  </button>\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n\n        <div className=\"mt-6 flex justify-end\">\n          <button\n            onClick={onClose}\n            className=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded\"\n          >\n            Cancel\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AccountModal;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,cAAc,QAAQ,2BAA2B;AAC1D,SAASC,QAAQ,QAAQ,wBAAwB;AACjD,SAASC,eAAe,QAAQ,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjE,MAAMC,YAAY,GAAGA,CAAC;EACpBC,MAAM;EACNC,OAAO;EACPC,MAAM;EACNC,WAAW;EACXC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM;IACJC,gBAAgB;IAChBC,cAAc;IACdC,KAAK;IACLC,kBAAkB;IAClBC,OAAO;IACPC;EACF,CAAC,GAAGlB,UAAU,CAACC,cAAc,CAAC;EAC9B,MAAM;IAAEkB;EAAkB,CAAC,GAAGjB,QAAQ,CAAC,CAAC;EACxC,MAAM;IAAEkB;EAAU,CAAC,GAAGjB,eAAe,CAAC,CAAC;EAEvC,IAAI,CAACI,MAAM,EAAE,OAAO,IAAI;;EAExB;EACA,MAAMc,WAAW,GAAGA,CAAA,KAAM;IACxB,QAAQX,WAAW;MACjB,KAAK,UAAU;QACb,OAAOG,gBAAgB;MACzB,KAAK,QAAQ;QACX,OAAOC,cAAc;MACvB,KAAK,MAAM;QACT,OAAOC,KAAK;MACd,KAAK,YAAY;QACf,OAAOC,kBAAkB;MAC3B;QACE,OAAO,EAAE;IACb;EACF,CAAC;;EAED;EACA,MAAMM,cAAc,GAAIC,MAAM,IAAK;IACjC,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;MACpCC,KAAK,EAAE,UAAU;MACjBC,QAAQ,EAAE;IACZ,CAAC,CAAC,CAACC,MAAM,CAACL,MAAM,CAAC;EACnB,CAAC;;EAED;EACA,MAAMM,YAAY,GAAGA,CAAA,KAAM;IACzB,QAAQnB,WAAW;MACjB,KAAK,UAAU;QACb,OAAO,SAAS;MAClB,KAAK,QAAQ;QACX,OAAO,aAAa;MACtB,KAAK,MAAM;QACT,OAAO,MAAM;MACf,KAAK,YAAY;QACf,OAAO,oBAAoB;MAC7B;QACE,OAAO,SAAS;IACpB;EACF,CAAC;;EAED;EACA,MAAMoB,iBAAiB,GAAG,MAAOC,OAAO,IAAK;IAC3C,IAAI;MACF,MAAMZ,iBAAiB,CAACV,MAAM,EAAEsB,OAAO,CAACC,EAAE,EAAEtB,WAAW,CAAC;MACxD,IAAIC,eAAe,EAAE;QACnBA,eAAe,CAAC,CAAC;MACnB;MACAH,OAAO,CAAC,CAAC;IACX,CAAC,CAAC,OAAOyB,GAAG,EAAE;MACZC,OAAO,CAAChB,KAAK,CAAC,wBAAwB,EAAEe,GAAG,CAAC;MAC5Cb,SAAS,CAACa,GAAG,CAACE,OAAO,IAAI,gCAAgC,CAAC;IAC5D;EACF,CAAC;EAED,MAAMC,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAE9B,oBACEhB,OAAA;IAAKgC,SAAS,EAAC,4EAA4E;IAAAC,QAAA,eACzFjC,OAAA;MAAKgC,SAAS,EAAC,sEAAsE;MAAAC,QAAA,gBACnFjC,OAAA;QAAKgC,SAAS,EAAC,wCAAwC;QAAAC,QAAA,gBACrDjC,OAAA;UAAIgC,SAAS,EAAC,mBAAmB;UAAAC,QAAA,GAAC,MAAI,EAACT,YAAY,CAAC,CAAC;QAAA;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC3DrC,OAAA;UACEsC,OAAO,EAAEnC,OAAQ;UACjB6B,SAAS,EAAC,mCAAmC;UAAAC,QAAA,EAC9C;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAELzB,OAAO,gBACNZ,OAAA;QAAKgC,SAAS,EAAC,kBAAkB;QAAAC,QAAA,EAAC;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,GACzDxB,KAAK,gBACPb,OAAA;QAAKgC,SAAS,EAAC,+BAA+B;QAAAC,QAAA,EAAEpB;MAAK;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,GAC1DN,QAAQ,CAACQ,MAAM,KAAK,CAAC,gBACvBvC,OAAA;QAAKgC,SAAS,EAAC,kBAAkB;QAAAC,QAAA,gBAC/BjC,OAAA;UAAGgC,SAAS,EAAC,MAAM;UAAAC,QAAA,GAAC,KACf,EAACT,YAAY,CAAC,CAAC,CAACgB,WAAW,CAAC,CAAC,EAAC,qBACnC;QAAA;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACJrC,OAAA;UAAAiC,QAAA,eACEjC,OAAA;YACEyC,IAAI,EAAC,qBAAqB;YAC1BT,SAAS,EAAC,+BAA+B;YAAAC,QAAA,EAC1C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,gBAENrC,OAAA;QAAIgC,SAAS,EAAC,WAAW;QAAAC,QAAA,EACtBF,QAAQ,CAACW,GAAG,CAAEhB,OAAO,iBACpB1B,OAAA;UAEEgC,SAAS,EAAC,uDAAuD;UACjEM,OAAO,EAAEA,CAAA,KAAMb,iBAAiB,CAACC,OAAO,CAAE;UAAAO,QAAA,eAE1CjC,OAAA;YAAKgC,SAAS,EAAC,sBAAsB;YAAAC,QAAA,gBACnCjC,OAAA;cAAAiC,QAAA,gBACEjC,OAAA;gBAAIgC,SAAS,EAAC,eAAe;gBAAAC,QAAA,EAAEP,OAAO,CAACiB;cAAI;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACjDrC,OAAA;gBAAGgC,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GAAC,WAC1B,EAAChB,cAAc,CAACS,OAAO,CAACkB,OAAO,CAAC;cAAA;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,eACNrC,OAAA;cACEgC,SAAS,EAAC,mCAAmC;cAC7CM,OAAO,EAAGO,CAAC,IAAK;gBACdA,CAAC,CAACC,eAAe,CAAC,CAAC;gBACnBrB,iBAAiB,CAACC,OAAO,CAAC;cAC5B,CAAE;cAAAO,QAAA,EACH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QAAC,GApBDX,OAAO,CAACC,EAAE;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAqBb,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CACL,eAEDrC,OAAA;QAAKgC,SAAS,EAAC,uBAAuB;QAAAC,QAAA,eACpCjC,OAAA;UACEsC,OAAO,EAAEnC,OAAQ;UACjB6B,SAAS,EAAC,yEAAyE;UAAAC,QAAA,EACpF;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC9B,EAAA,CApJIN,YAAY;EAAA,QAecJ,QAAQ,EAChBC,eAAe;AAAA;AAAAiD,EAAA,GAhBjC9C,YAAY;AAsJlB,eAAeA,YAAY;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}